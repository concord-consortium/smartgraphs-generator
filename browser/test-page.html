<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>converter.convert() Test Page</title>

  <style type="text/css">
    .code {
      font-family: Consolas, Andale Mono, Courier New, monospace;
    }

    #input {
      width: 80em;
      height: 20em;
      font-size: 16px;
    }

    #output {
      font-size: 16px;
    }
  </style>

  <script type="text/javascript" src="js/converter.js"></script>
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="js/libs/jquery-1.6.4.min.js"%3E%3C/script%3E'))</script>

  <script type="text/javascript">

    var converter = require('./converter.js'),

        initialInput = {
          "type": "Activity",
          "name": "Mariaâ€™s Run",
          "pages": [
            {
              "type": "Page",
              "name": "Introduction",
              "text": "in this activity...."
            },
            {
              "type": "Page",
              "name": "Where did she stop",
              "text": "look at the graph..."
            }
          ]
        };

    function update() {
      var input  = JSON.parse( $('#input').val() ),
          output = converter.convert(input);
      $('#output').text( JSON.stringify(output, null, 2) );
    }

    $(function () {
      $('#input').val( JSON.stringify(initialInput, null, 2) );
      update();

      $('#input').change(update);
      $('#update-button').click(update);
    });

  </script>

</head>

<body>
  <h1><span class="code">converter.convert()</span> Test Page</h1>

  <h2>Input</h2>
  <textarea id="input" class="code"></textarea>

  <div>
    <button id="update-button">Update</button>
  </div>

  <h2>Output</h2>
  <pre id="output" class="code"></pre>
</body>

</html>
